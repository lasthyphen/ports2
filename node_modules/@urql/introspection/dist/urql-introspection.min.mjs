import{buildSchema as e,execute as n,parse as a,getIntrospectionQuery as t}from"graphql";function r(r){if("string"==typeof r)try{r=JSON.parse(r)}catch(n){r=e(r)}if("object"==typeof r&&"__schema"in r)return r;var i=n({document:a(t({descriptions:!1})),schema:r});if(!i.data||!i.data.__schema)throw new TypeError("GraphQL could not generate an IntrospectionQuery from the given schema.");return i.data}var i=!1,s=!1,u=!1,c=!1,p={kind:"SCALAR",name:"Any"};function m(e){switch(e.kind){case"NON_NULL":case"LIST":return{kind:e.kind,ofType:m(e.ofType)};case"SCALAR":return c=c||i,i?e:p;case"INPUT_OBJECT":return c=c||u,u?e:p;case"ENUM":return c=c||s,s?e:p;case"OBJECT":case"INTERFACE":case"UNION":return e;default:throw new TypeError("Unrecognized type reference of type: "+e.kind+".")}}function o(e){switch(e.kind){case"SCALAR":return{kind:"SCALAR",name:e.name};case"ENUM":return{kind:"ENUM",name:e.name,enumValues:e.enumValues.map((function(e){return{name:e.name}}))};case"INPUT_OBJECT":return{kind:"INPUT_OBJECT",name:e.name,inputFields:e.inputFields.map((function(e){return{name:e.name,type:m(e.type),defaultValue:e.defaultValue||void 0}}))};case"OBJECT":return{kind:"OBJECT",name:e.name,fields:e.fields.map((function(e){return{name:e.name,type:e.type&&m(e.type),args:e.args&&e.args.map((function(e){return{name:e.name,type:m(e.type)}}))}})),interfaces:e.interfaces&&e.interfaces.map((function(e){return{kind:"INTERFACE",name:e.name}}))};case"INTERFACE":return{kind:"INTERFACE",name:e.name,fields:e.fields.map((function(e){return{name:e.name,type:e.type&&m(e.type),args:e.args&&e.args.map((function(e){return{name:e.name,type:m(e.type)}}))}})),interfaces:e.interfaces&&e.interfaces.map((function(e){return{kind:"INTERFACE",name:e.name}})),possibleTypes:e.possibleTypes&&e.possibleTypes.map((function(e){return{kind:e.kind,name:e.name}}))};case"UNION":return{kind:"UNION",name:e.name,possibleTypes:e.possibleTypes.map((function(e){return{kind:e.kind,name:e.name}}))};default:return e}}function d(e,n){if(void 0===n&&(n={}),!e||!("__schema"in e))throw new TypeError("Expected to receive an IntrospectionQuery.");c=!1,i=!!n.includeScalars,s=!!n.includeEnums,u=!!n.includeInputs;var a=e.__schema,t=a.queryType,r=a.mutationType,d=a.subscriptionType,f=a.directives,y=a.types.filter((function(e){switch(e.name){case"__Directive":case"__DirectiveLocation":case"__EnumValue":case"__InputValue":case"__Field":case"__Type":case"__TypeKind":case"__Schema":return!1;default:return i&&"SCALAR"===e.kind||s&&"ENUM"===e.kind||u&&"INPUT_OBJECT"===e.kind||"OBJECT"===e.kind||"INTERFACE"===e.kind||"UNION"===e.kind}})).map(o),l=(f||[]).map((function(e){return{name:e.name,isRepeatable:!!e.isRepeatable||void 0,locations:e.locations,args:e.args.map((function(e){return{name:e.name,type:m(e.type),defaultValue:e.defaultValue||void 0}}))}}));return i&&s&&u&&!c||y.push({kind:"SCALAR",name:p.name}),{__schema:{queryType:t,mutationType:r,subscriptionType:d,types:y,directives:n.includeDirectives?l:[]}}}export{r as getIntrospectedSchema,d as minifyIntrospectionQuery};
//# sourceMappingURL=urql-introspection.min.mjs.map
